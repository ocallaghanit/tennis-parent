<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tennis Data Adapter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Space Grotesk', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
    </style>
</head>
<body class="bg-slate-950 text-slate-100 min-h-screen">
    <!-- Header -->
    <header class="bg-slate-900/80 border-b border-slate-800 sticky top-0 z-50 backdrop-blur-sm">
        <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <span class="text-2xl">ðŸŽ¾</span>
                <h1 class="text-xl font-bold bg-gradient-to-r from-emerald-400 to-cyan-400 bg-clip-text text-transparent">
                    Tennis Data Adapter
                </h1>
            </div>
            <nav class="flex items-center gap-6">
                <a href="/ui/dashboard" class="text-emerald-400 font-medium">Dashboard</a>
                <a href="/ui/fixtures" class="text-slate-400 hover:text-slate-200 transition-colors">Fixtures</a>
                <a href="/ui/tournaments" class="text-slate-400 hover:text-slate-200 transition-colors">Tournaments</a>
                <a href="/ui/players" class="text-slate-400 hover:text-slate-200 transition-colors">Players</a>
                <a href="/ui/sync" class="text-slate-400 hover:text-slate-200 transition-colors">Sync</a>
                <a href="/ui/verify" class="text-slate-400 hover:text-slate-200 transition-colors">Verify</a>
                <a href="/swagger-ui.html" class="text-slate-500 hover:text-slate-300 text-sm transition-colors">API Docs â†’</a>
            </nav>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8">
        <!-- Date Banner -->
        <div class="mb-8 text-center">
            <p class="text-slate-500 text-sm" th:text="${currentDate}">Monday, January 26, 2026</p>
        </div>

        <!-- Stats Cards -->
        <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-10">
            <div class="bg-slate-900/50 border border-slate-800 rounded-xl p-5 text-center hover:border-slate-700 transition-colors">
                <div class="text-3xl font-bold text-emerald-400 mono" th:text="${fixtureCount}">0</div>
                <div class="text-slate-500 text-sm mt-1">Fixtures</div>
            </div>
            <div class="bg-slate-900/50 border border-slate-800 rounded-xl p-5 text-center hover:border-slate-700 transition-colors">
                <div class="text-3xl font-bold text-cyan-400 mono" th:text="${playerCount}">0</div>
                <div class="text-slate-500 text-sm mt-1">Players</div>
            </div>
            <div class="bg-slate-900/50 border border-slate-800 rounded-xl p-5 text-center hover:border-slate-700 transition-colors">
                <div class="text-3xl font-bold text-violet-400 mono" th:text="${tournamentCount}">0</div>
                <div class="text-slate-500 text-sm mt-1">Tournaments</div>
            </div>
            <div class="bg-slate-900/50 border border-slate-800 rounded-xl p-5 text-center hover:border-slate-700 transition-colors">
                <div class="text-3xl font-bold text-amber-400 mono" th:text="${oddsCount}">0</div>
                <div class="text-slate-500 text-sm mt-1">Odds</div>
            </div>
            <div class="bg-slate-900/50 border border-slate-800 rounded-xl p-5 text-center hover:border-slate-700 transition-colors">
                <div class="text-3xl font-bold text-rose-400 mono" th:text="${eventCount}">0</div>
                <div class="text-slate-500 text-sm mt-1">Events</div>
            </div>
        </div>

        <!-- Main Grid -->
        <div class="grid lg:grid-cols-2 gap-6">
            
            <!-- Today's Matches -->
            <div class="bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden">
                <div class="px-5 py-4 border-b border-slate-800 flex items-center justify-between">
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>
                        <h2 class="font-semibold">Today's Matches</h2>
                    </div>
                    <span class="text-slate-500 text-sm mono" th:text="${todayMatchCount}">0</span>
                </div>
                <div class="max-h-96 overflow-y-auto">
                    <div th:if="${#lists.isEmpty(todayMatches)}" class="p-8 text-center text-slate-500">
                        <p>No matches today</p>
                    </div>
                    <div th:unless="${#lists.isEmpty(todayMatches)}">
                        <div th:each="match : ${todayMatches}" 
                             class="px-5 py-3 border-b border-slate-800/50 hover:bg-slate-800/30 transition-colors">
                            <div class="flex items-center justify-between">
                                <div class="flex-1 min-w-0">
                                    <div class="flex items-center gap-2">
                                        <span th:text="${match.firstPlayerName}" class="font-medium truncate">Player 1</span>
                                        <span class="text-slate-600">vs</span>
                                        <span th:text="${match.secondPlayerName}" class="font-medium truncate">Player 2</span>
                                    </div>
                                    <div class="text-slate-500 text-xs mt-1 truncate" th:if="${match.raw != null}">
                                        <span th:text="${match.raw.get('tournament_name')}">Tournament</span>
                                    </div>
                                </div>
                                <div class="text-right ml-3 flex-shrink-0">
                                    <span th:if="${match.status == 'Finished'}" 
                                          class="text-emerald-400 text-sm mono" 
                                          th:text="${match.score}">6-3 6-4</span>
                                    <span th:if="${match.status != 'Finished'}" 
                                          class="text-amber-400 text-xs px-2 py-0.5 bg-amber-400/10 rounded"
                                          th:text="${match.status}">Scheduled</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Upcoming Matches -->
            <div class="bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden">
                <div class="px-5 py-4 border-b border-slate-800 flex items-center justify-between">
                    <div class="flex items-center gap-2">
                        <span class="text-cyan-400">ðŸ“…</span>
                        <h2 class="font-semibold">Upcoming (Next 7 Days)</h2>
                    </div>
                    <span class="text-slate-500 text-sm mono" th:text="${upcomingMatchCount}">0</span>
                </div>
                <div class="max-h-96 overflow-y-auto">
                    <div th:if="${#maps.isEmpty(upcomingByDate)}" class="p-8 text-center text-slate-500">
                        <p>No upcoming matches</p>
                    </div>
                    <div th:unless="${#maps.isEmpty(upcomingByDate)}">
                        <div th:each="entry : ${upcomingByDate}" class="border-b border-slate-800/50 last:border-0">
                            <div class="px-5 py-2 bg-slate-800/30 flex items-center justify-between">
                                <span class="text-sm font-medium text-slate-300" 
                                      th:text="${#temporals.format(entry.key, 'EEE, MMM d')}">Mon, Jan 27</span>
                                <span class="text-xs text-slate-500 mono" 
                                      th:text="${#lists.size(entry.value)} + ' matches'">12 matches</span>
                            </div>
                            <div th:each="match, stat : ${entry.value}" th:if="${stat.index < 3}"
                                 class="px-5 py-2 text-sm hover:bg-slate-800/20 transition-colors">
                                <span th:text="${match.firstPlayerName}" class="text-slate-300">Player 1</span>
                                <span class="text-slate-600 mx-1">vs</span>
                                <span th:text="${match.secondPlayerName}" class="text-slate-300">Player 2</span>
                            </div>
                            <div th:if="${#lists.size(entry.value) > 3}" 
                                 class="px-5 py-2 text-xs text-slate-500">
                                + <span th:text="${#lists.size(entry.value) - 3}">5</span> more matches
                            </div>
                        </div>
                    </div>
                </div>
                <a href="/ui/fixtures" class="block px-5 py-3 text-center text-sm text-cyan-400 hover:bg-slate-800/30 transition-colors border-t border-slate-800">
                    View All Fixtures â†’
                </a>
            </div>

            <!-- Recent Results -->
            <div class="bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden lg:col-span-2">
                <div class="px-5 py-4 border-b border-slate-800 flex items-center justify-between">
                    <div class="flex items-center gap-2">
                        <span class="text-emerald-400">ðŸ“Š</span>
                        <h2 class="font-semibold">Recent Results</h2>
                    </div>
                    <span class="text-slate-500 text-sm mono" th:text="${recentResultCount}">0</span>
                </div>
                <div class="max-h-80 overflow-y-auto">
                    <div th:if="${#lists.isEmpty(recentResults)}" class="p-8 text-center text-slate-500">
                        <p>No recent results</p>
                    </div>
                    <div th:unless="${#lists.isEmpty(recentResults)}" class="grid md:grid-cols-2">
                        <div th:each="match : ${recentResults}" 
                             class="px-5 py-3 border-b border-r border-slate-800/50 hover:bg-slate-800/30 transition-colors">
                            <div class="flex items-center justify-between">
                                <div class="flex-1 min-w-0">
                                    <div class="flex items-center gap-2">
                                        <span th:classappend="${match.winner == 'First Player'} ? 'text-emerald-400' : 'text-slate-400'"
                                              th:text="${match.firstPlayerName}" class="truncate">Player 1</span>
                                        <span class="text-slate-600 text-xs">vs</span>
                                        <span th:classappend="${match.winner == 'Second Player'} ? 'text-emerald-400' : 'text-slate-400'"
                                              th:text="${match.secondPlayerName}" class="truncate">Player 2</span>
                                    </div>
                                    <div class="text-slate-600 text-xs mt-1" th:text="${match.eventDate}">Jan 25</div>
                                </div>
                                <div class="text-right ml-3 flex-shrink-0">
                                    <span class="text-slate-300 text-sm mono" th:text="${match.score}">6-3 6-4</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="mt-8 flex justify-center gap-4">
            <a href="/ui/sync" class="px-6 py-3 bg-emerald-600 hover:bg-emerald-500 text-white font-medium rounded-lg transition-colors">
                ðŸ”„ Sync Data
            </a>
            <a href="/swagger-ui.html" class="px-6 py-3 bg-slate-800 hover:bg-slate-700 text-slate-200 font-medium rounded-lg transition-colors">
                ðŸ“¡ API Explorer
            </a>
        </div>
    </main>

    <!-- Footer -->
    <footer class="border-t border-slate-800 mt-16 py-6 text-center text-slate-600 text-sm">
        <p>Tennis Data Adapter â€¢ Powered by API Tennis</p>
    </footer>
</body>
</html>

